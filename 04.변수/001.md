# 4장. 변수

## 용어 정리

### 변수

- `변수`: 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름(값의 위치를 가리키는 상징적인 이름)
- `변수명`: 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름
- `변수 값`: 변수에 저장된 값
- `할당`: 변수에 값을 저장하는 것
- `참조`: 변수에 저장된 값을 읽어 들이는 것

⇒ 변수명을 사용해 참조를 요청하면 자바스크립트 엔진은 변수명과 매핑된 메모리 주소를 통해 메모리 공간에 접근해서 저장된 값을 반환

<aside>
🤔 **변수를 왜 사용하나요?**

컴퓨터는 모든 데이터를 메모리에 저장하며, 이 값에는 메모리 주소를 통해 직접 접근해야 한다.
하지만 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않는다.
(치명적 오류 발생 가능성, 메모리 주소는 임의로 변경되므로 올바른 방법이 아님)

**따라서,** 개발자가 직접 메모리 주소를 통해 값을 저장하고 참조할 필요 없이 안전하게 값에 접근하기 위해 변수를 사용한다.

</aside>

### 식별자(identifier)

- 메모리 상에 존재하는 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 식별자는 메모리 주소를 기억
- 변수, 함수, 클래스 등의 이름은 모두 식별자

### 변수 선언

- 선언 단계 : 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알림
- 초기화 단계 : 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화 함

<aside>
💡 **자바스크립트에서 변수 초기화**

```jsx
var score;  // undefined
```

변수를 선언한 후, 값을 할당하지 않았기 때문에 확보된 메모리 공간은 비어있을 것 같지만

자바스크립트 엔진에 의해 `undefined` 값이 암묵적으로 할당되어 초기화된다.

</aside>

<aside>
💡 ******************************************************************************변수 이름은 어디에 등록되나요?******************************************************************************

변수 이름을 비롯한 모든 식별자는 `실행 컨텍스트` 내에 키/값 형식의 객체로 등록되어 관리된다.

실행 컨텍스트: 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경 제공, 코드의 실행 결과를 실제로 관리하는 영역

</aside>

### 변수 선언의 실행 시점과 변수 호이스팅

- 변수 선언을 포함한 모든 선언문은 `런타임 이전 단계`예서 먼저 실행됨
- `변수 호이스팅` : 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 것

```jsx
// 변수 선언문보다 변수를 참조하는 코드가 앞에 있지만 참조 에러가 발생하지 않음

console.log(score); // undefined (참조 에러 x)

var score; // 변수 선언
```

<aside>
🤔 **런타임 이전 단계란?**

자바스크립트 엔진은 소스코드를 한 줄씩 순차적으로 실행하기에 앞서 먼저 소스코드의 평가 과정을 거치면서 소스코드를 실행하기 위한 준비를 한다. 이때 `모든 선언문(변수 선언문, 함수 선언문)을 소스코드에서 찾아 먼저 실행`한다. 소스코드 평가 과정이 끝나면 선언문을 제외한 소스코드를 한 줄씩 실행한다.

</aside>

### 값의 할당

```jsx
var score;  // 변수 선언
score = 80; // 값의 할당

var score = 80; // 변수 선언과 값의 할당 (단축 표현)
```

- `변수 선언` : 런타임 이전 단계에 실행
- `값의 할당` : 런타임에 실행

```jsx
console.log(score); // 2. undefined

var score;  // 1. 변수 선언
score = 80; // 3. 값의 할당

console.log(score);  // 4. 80
```

- 변수에 값을 할당할 때는 이전 값 undefined가 저장되어 있던 메모리 공간을 지우고 그 공간에 80을 새로 저장하는게 아니라 새로운 메모리 공간에 저장함

```jsx
console.log(score); // 2. undefined

score = 80; // 3.
var score; // 1.

console.log(score); // 4. 80
```

### 값의 재할당

- `재할당`: 이미 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것

```jsx
var score = 80; // 변수 선언과 값의 할당
score = 90;     // 값의 재할당
```

- `상수`: 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없는 값(한번 정해지면 변하지 않는 값)

<aside>
💡 var 키워드로 선언한 변수는 선언과 동시에 undefined로 초기화되기 때문에 
엄밀히 말하자면 변수에 처음으로 값을 할당하는 것도 사실은 재할당이다!

</aside>

> 변수가 어떤 순서로 동작하는지 정리하자면,

`런타임 이전`
1. 변수 선언(메모리에 undefined를 할당해 초기화)

`런타임`
2. 값의 할당(새로운 메모리 공간에 값을 저장)
3. 값의 재할당(새로운 메모리 공간에 값을 저장)
> 
